<template>
    <div class="grid-container">
        <div v-for="(row, index) in gridData" :key="index" class="grid-row">
            <fuzzy-card class="card"
                        @click="checkCompanyDetail"
                v-for="(item, i) in row" :key="i"
                        :company-name="item.companyName"
                        :company-description="item.companyDescription"
                        :company-comment="item.companyComment"
                        :avatar-src="item.avatarSrc"
            />
        </div>
    </div>

    <el-pagination
        v-model:current-page="currentPage"
        v-model:page-size="pageSize"
        :small="small"
        :disabled="disabled"
        :background="background"
        layout="prev, pager, next, jumper"
        :total="800"
        @current-change="handleCurrentChange"
        style="align-items: center; justify-content: center; margin-top: 10px"
    />


</template>

<script setup lang="ts">
import {useRoute} from "vue-router";
import FuzzyCard from "@/components/fuzzyCard.vue";
import {computed} from "vue";

import { ref } from 'vue'
import router from "@/router";


const currentPage = ref(1)
const pageSize = ref(100) // TODO
const small = ref(false)
const background = ref(false)
const disabled = ref(false)

const checkCompanyDetail = () => {
    router.push("/precise")
}

const handleCurrentChange = (val: number) => {
    //TODO
    console.log(`current page: ${val}`)
}

const cardData = [
    {   companyName : "ç»¿ç›Šç”Ÿæ€ç§‘æŠ€æœ‰é™å…¬å¸",
        companyDescription : "è‡´åŠ›äºæ¨åŠ¨ç¯ä¿äº§ä¸šçš„å‘å±•ï¼Œä¸“æ³¨äºå¼€å‘å’Œæä¾›åˆ›æ–°çš„ç”Ÿæ€ç§‘æŠ€è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬çš„ä½¿å‘½æ˜¯é€šè¿‡æŠ€æœ¯åˆ›æ–°å’Œå¯æŒç»­å‘å±•ï¼Œä¸ºç¤¾ä¼šåˆ›é€ æ›´æ¸…æ´ã€æ›´ç¾å¥½çš„ç”Ÿæ€ç¯å¢ƒã€‚",
        companyComment : "ç»¿ç›Šç”Ÿæ€ğŸ¤£æˆ‘åªä¼šå“ˆå“ˆå“ˆğŸ¤£å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ",
        avatarSrc : "https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",
    },
    {   companyName: "è“å¤©ç¯ä¿ç§‘æŠ€æœ‰é™å…¬å¸",
        companyDescription: "ä¸“æ³¨äºç ”å‘å’Œæ¨å¹¿ç¯ä¿æŠ€æœ¯ï¼Œè‡´åŠ›äºæ‰“é€ æ›´æ¸…æ´ã€æ›´å¥åº·çš„ç”Ÿæ€ç¯å¢ƒã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€šè¿‡åˆ›æ–°è§£å†³æ–¹æ¡ˆï¼Œä¸ºäººç±»åˆ›é€ å¯æŒç»­çš„æœªæ¥ã€‚",
        companyComment: "è“å¤©ç¯ä¿ï¼Œè®©åœ°çƒæ›´è“æ›´ç¾å¥½ï¼",
        avatarSrc : "https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",
    },
    {   companyName: "ç»¿è‰²ç§‘æŠ€åˆ›æ–°æœ‰é™å…¬å¸",
        companyDescription: "æˆ‘ä»¬è‡´åŠ›äºç»¿è‰²ç§‘æŠ€çš„åˆ›æ–°ä¸åº”ç”¨ï¼Œä¸ºç¤¾ä¼šæä¾›é«˜æ•ˆã€ç¯ä¿çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬ç›¸ä¿¡ç§‘æŠ€çš„åŠ›é‡èƒ½å¤Ÿæ”¹å–„ç¯å¢ƒï¼Œåˆ›é€ æ›´ç¾å¥½çš„æ˜å¤©ã€‚",
        companyComment: "ç»¿è‰²ç§‘æŠ€ï¼Œè®©æœªæ¥æ›´ç¾å¥½ï¼",
        avatarSrc : "https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",
    },
    {   companyName: "ç”Ÿæ€æ—¶ä»£ç§‘æŠ€æœ‰é™å…¬å¸",
        companyDescription: "æˆ‘ä»¬è‡´åŠ›äºå¼•é¢†ç”Ÿæ€æ—¶ä»£çš„å‘å±•ï¼Œå€¡å¯¼å¯æŒç»­å‘å±•ç†å¿µï¼Œæ¨åŠ¨ç»¿è‰²ç”Ÿæ€äº§ä¸šçš„åˆ›æ–°ä¸å‘å±•ã€‚",
        companyComment: "ç”Ÿæ€æ—¶ä»£ï¼Œåˆ›é€ ç»¿è‰²æ˜å¤©ï¼",
        avatarSrc : "https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",
    },
    {   companyName: "æ¸…æ³‰ç§‘æŠ€ç¯ä¿æœ‰é™å…¬å¸",
        companyDescription: "æˆ‘ä»¬ä¸“æ³¨äºæ°´èµ„æºç®¡ç†å’Œç¯å¢ƒä¿æŠ¤æŠ€æœ¯çš„ç ”ç©¶ä¸åº”ç”¨ï¼Œä¸ºäººç±»åˆ›é€ æ´å‡€çš„æ°´æºå’Œæ¸…æ–°çš„ç©ºæ°”ã€‚",
        companyComment: "æ¸…æ³‰ç§‘æŠ€ï¼Œè®©ç¯å¢ƒæ›´æ¸…æ–°ï¼",
        avatarSrc : "https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",
    },
    {   companyName : "ç»¿ç›Šç”Ÿæ€ç§‘æŠ€æœ‰é™å…¬å¸",
        companyDescription : "è‡´åŠ›äºæ¨åŠ¨ç¯ä¿äº§ä¸šçš„å‘å±•ï¼Œä¸“æ³¨äºå¼€å‘å’Œæä¾›åˆ›æ–°çš„ç”Ÿæ€ç§‘æŠ€è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬çš„ä½¿å‘½æ˜¯é€šè¿‡æŠ€æœ¯åˆ›æ–°å’Œå¯æŒç»­å‘å±•ï¼Œä¸ºç¤¾ä¼šåˆ›é€ æ›´æ¸…æ´ã€æ›´ç¾å¥½çš„ç”Ÿæ€ç¯å¢ƒã€‚",
        companyComment : "ç»¿ç›Šç”Ÿæ€ğŸ¤£æˆ‘åªä¼šå“ˆå“ˆå“ˆğŸ¤£å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ",
        avatarSrc : "https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",
    },
    {   companyName: "ç¢§æ°´è“å¤©ç§‘æŠ€å‘å±•æœ‰é™å…¬å¸",
        companyDescription: "è‡´åŠ›äºç ”å‘é«˜æ•ˆèŠ‚èƒ½çš„ç¯ä¿ç§‘æŠ€äº§å“ï¼Œä¸ºå®ç°ç¢§æ°´è“å¤©çš„æ¢¦æƒ³è€ŒåŠªåŠ›ã€‚",
        companyComment: "ç¢§æ°´è“å¤©ï¼Œè¿½æ±‚ç¯ä¿æ¢¦æƒ³ï¼",
        avatarSrc : "https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",
    },
    {   companyName : "ç»¿ç›Šç”Ÿæ€ç§‘æŠ€æœ‰é™å…¬å¸",
        companyDescription : "è‡´åŠ›äºæ¨åŠ¨ç¯ä¿äº§ä¸šçš„å‘å±•ï¼Œä¸“æ³¨äºå¼€å‘å’Œæä¾›åˆ›æ–°çš„ç”Ÿæ€ç§‘æŠ€è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬çš„ä½¿å‘½æ˜¯é€šè¿‡æŠ€æœ¯åˆ›æ–°å’Œå¯æŒç»­å‘å±•ï¼Œä¸ºç¤¾ä¼šåˆ›é€ æ›´æ¸…æ´ã€æ›´ç¾å¥½çš„ç”Ÿæ€ç¯å¢ƒã€‚",
        companyComment : "ç»¿ç›Šç”Ÿæ€ğŸ¤£æˆ‘åªä¼šå“ˆå“ˆå“ˆğŸ¤£å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ",
        avatarSrc : "https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",
    },
];

const gridData = computed(() => {
    const rows = [];
    const itemsPerRow = 4;
    for (let i = 0; i < cardData.length; i += itemsPerRow) {
        rows.push(cardData.slice(i, i + itemsPerRow));
    }
    return rows;
});

const route = useRoute()

const fSearchStr = route.query.fSearchStr;

</script>

<style>

.grid-container {

    display: flex;
    flex-direction: column;
    height: 90%;
    align-items: center;
    justify-content: center;


}

.grid-row {
    display: flex;
    justify-content: space-between;
    //margin-bottom: 10px; /* å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´è¡Œä¹‹é—´çš„é—´è· */
    //margin-top: 10px;
}
.card {
    margin: 10px;
}
</style>
